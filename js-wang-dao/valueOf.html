<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>2</title>
  </head>
  <body>
    <!-- !
      结合考题 file:///Users/yanghuan/FrontBasic/front-basic/2020-interview-js/+.html
    -->
    <script>
      var str = 'str';
      var num = 1;
      var bool = true;

      var arr = [1, 2, 3];
      var obj = {};
      var foo = function () {};

      //
      // Object.prototype.valueOf(), 返回一个对象的“值”, 默认情况下返回 对象本身（如：数组，布尔值）
      console.log('arr.valueOf() =>', arr.valueOf() === arr);
      console.log('obj.valueOf() =>', obj.valueOf() === obj);
      console.log('foo.valueOf() =>', foo.valueOf() === foo);

      var obj_str = new String(str);
      var obj_num = new Number(num);
      var obj_bool = new Boolean(bool);
      console.log('obj_str.valueOf() === str =>', obj_str.valueOf() === str, obj_str);
      console.log('obj_num.valueOf() === num =>', obj_num.valueOf() === num, obj_num);
      console.log('obj_bool.valueOf() === bool =>', obj_bool.valueOf() === bool, obj_bool);

      //
      // 主要用途：
      // 数据类型自动转换会默认调用
      var addResult = 1 + obj;

      var obj2 = {
        valueOf: function () {
          // 自定义方法，可以让对象在自动类型转换时，得到想要的值。
          return 2;
        },
      };
      var addResult2 = 2 + obj2;

      console.log(obj.valueOf(), obj.toString(), obj2.valueOf(), obj2.toString());
      console.log(addResult, addResult2);
    </script>
  </body>
</html>
