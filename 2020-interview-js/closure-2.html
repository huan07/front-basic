<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>x</title>
</head>
<body>
<a href="https://time.geekbang.org/column/article/129596">点我，查看详细分析</a>
<script>
    // 站在内存模型的角度来分析这段代码的执行流程。
    // 第一步是需要预扫描内部函数；
    // 第二步是把内部函数引用的外部变量保存到堆中。
    function foo() {
        var myName = "极客时间";
        let test1 = 1;
        const test2 = 2;
        var innerBar = {
            setName: function(newName) {
                myName = newName;
            },
            getName: function() {
                console.log('test1 => ', test1);
                return myName
            }
        };
        return innerBar;
    }

    var bar = foo();
    bar.setName("极客邦");
    bar.getName();

    console.log(bar.getName());
</script>

</body>
</html>
