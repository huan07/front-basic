<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>1</title>
  </head>
  <body>
    <script>
      (() => {
        // https://www.bilibili.com/video/BV1ek4y1r7GT?p=8
        // 数组扁平化、去重、升序排列
        const arr = [[1, 2, 2], [3, 4, 5, 5], [7, 8, 9, [11, 12, [12, 13, [14]]]], 10];

        function flatUniqueSortArray(arr) {
          return (arr || [])
            .reduce((result, curr) => {
              if (Array.isArray(curr)) {
                return result.concat(flatUniqueSortArray(curr));
              }
              if (!result.includes(curr)) {
                result.push(curr);
              }
              return result;
            }, [])
            .sort((a, b) => a - b);
        }

        var result = flatUniqueSortArray(arr);
        console.log('flatUniqueSortArray =>', result);
      })();
    </script>

    <script>
      // https://github.com/haizlin/fe-interview/issues/3562
      const arr = [1, 2, 3, 5];

      function toLeft([first, ...rest]) {
        return [...rest, first];
      }

      function toRight(arr) {
        arr = arr.concat();
        return [arr.pop(), ...arr];
      }

      console.log(toLeft(arr), toRight(arr));
    </script>

    <script>
      // https://github.com/haizlin/fe-interview/issues/3558
      (() => {
        const arr = [1, 1, 2, 2, 2, 2, 3, 3];

        // 有且只有两个连续相等的所有元素
        function getTandemDuplication(arr) {
          const result = [];
          for (let i = 0; i < arr.length; i++) {
            if (arr[i] === arr[i + 1]) {
              if (!result.includes(arr[i])) {
                // 4个连续相等也算出来了
                result.push(arr[i]);
              } else {
                result.pop();
              }
            }
          }
          return result;
        }

        console.log('getTandemDuplication =>', getTandemDuplication(arr));
      })();
    </script>
  </body>
</html>
